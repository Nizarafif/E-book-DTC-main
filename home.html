<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - DTC Academy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'teal-dark': '#113939',
                        'beige-light': '#F5F5DC',
                    }
                }
            }
        }
    </script>
    <script>
        function openModal() {
            document.getElementById('modalOverlay').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside
        document.addEventListener('DOMContentLoaded', function() {
            const modalOverlay = document.getElementById('modalOverlay');
            if (modalOverlay) {
                modalOverlay.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeModal();
                    }
                });
            }

            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });
        });
    </script>
</head>
<body class="min-h-screen bg-gray-100">
    <div class="flex min-h-screen">
        <!-- Left Sidebar -->
        <div class="w-64 bg-[#113939] flex flex-col hidden lg:flex">
            <!-- User Profile Section -->
            <div class="p-6">
                <div class="flex items-center space-x-4">
                    <div class="w-16 h-16 rounded-full overflow-hidden bg-blue-500 flex-shrink-0">
                        <img src="public/Profil.png" alt="Profile" class="w-full h-full object-cover">
                    </div>
                    <div class="text-white">
                        <h3 class="font-bold text-lg">NAMA</h3>
                        <p class="text-white text-sm">email@gmail.com</p>
                    </div>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="flex-1 p-6 mt-4">
                <ul class="space-y-4">
                    <!-- Home - Active -->
                    <li>
                        <a href="#" class="flex items-center px-4 py-3 text-teal-dark rounded-lg font-medium" style="background: linear-gradient(135deg, #FFFFFF 0%, #F5E7C5 25%, #F0DBA7 50%, #EBCF8A 100%);">
                            <img src="public/Icon Home.svg" alt="Home" class="w-5 h-5 mr-3">
                            Home
                        </a>
                    </li>
                    <!-- Favorit -->
                    <li>
                        <a href="favorite.html" class="flex items-center px-4 py-3 text-white rounded-lg transition-all duration-300" style="background: transparent;" onmouseover="this.style.background='linear-gradient(135deg, #FFFFFF 0%, #F5E7C5 25%, #F0DBA7 50%, #EBCF8A 100%)'; this.style.color='#2D5A5A'; this.querySelector('img').style.filter='brightness(0)';" onmouseout="this.style.background='transparent'; this.style.color='white'; this.querySelector('img').style.filter='brightness(1)';">
                            <img src="public/heart 2.svg" alt="Favorit" class="w-5 h-5 mr-3">
                            Favorit
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- Main Content Area -->
        <div class="flex-1 bg-white w-full">
            <!-- Header -->
            <div class="flex justify-between items-center p-6">
                <div>
                    <h1 class="text-2xl font-bold text-teal-dark">Hai,</h1>
                    <h2 class="text-2xl font-bold text-teal-dark">DestinasiTerbaik</h2>
                </div>
                <div>
                    <img src="public/logo.png" alt="DTC Academy" class="h-20">
                </div>
            </div>

            <!-- Course Cards Section -->
            <div class="p-6">
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 justify-items-center">
                    <!-- Course Card 1 -->
                    <div class="book-card bg-white rounded-lg p-3 hover:shadow-3xl transition-all duration-300 hover:scale-105 hover:-translate-y-2 cursor-pointer" style="width: 190px; height: 320px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.15), 0 0 40px rgba(0, 0, 0, 0.1);" onclick="openModal(this)">
                        
                        <!-- Book Cover -->
                        <div class="relative mb-4 flex items-center justify-center">
                            <img src="public/Image-Cover Buku.svg" alt="Book Cover" class="object-cover rounded-lg" style="width: 170px; height: 250px; filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));">
                        </div>
                        
                        <div class="text-left -mt-4 ml-3">
                            <p class="text-base font-bold text-black">KODE PRODUKSI/</p>
                            <p class="text-base font-bold text-black">Nama Buku</p>
                        </div>
                    </div>

                    <!-- Course Card 2 -->
                    <div class="book-card bg-white rounded-lg p-3 hover:shadow-3xl transition-all duration-300 hover:scale-105 hover:-translate-y-2 cursor-pointer" style="width: 190px; height: 320px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.15), 0 0 40px rgba(0, 0, 0, 0.1);" onclick="openModal(this)">
                        
                        <!-- Book Cover -->
                        <div class="relative mb-4 flex items-center justify-center">
                            <img src="public/Image-Cover Buku.svg" alt="Book Cover" class="object-cover rounded-lg" style="width: 170px; height: 250px; filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));">
                        </div>
                        
                        <div class="text-left -mt-4 ml-3">
                            <p class="text-base font-bold text-black">KODE PRODUKSI/</p>
                            <p class="text-base font-bold text-black">Nama Buku</p>
                        </div>
                    </div>

                    <!-- Course Card 3 -->
                    <div class="book-card bg-white rounded-lg p-3 hover:shadow-3xl transition-all duration-300 hover:scale-105 hover:-translate-y-2 cursor-pointer" style="width: 190px; height: 320px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.15), 0 0 40px rgba(0, 0, 0, 0.1);" onclick="openModal(this)">
                        
                        <!-- Book Cover -->
                        <div class="relative mb-4 flex items-center justify-center">
                            <img src="public/Image-Cover Buku.svg" alt="Book Cover" class="object-cover rounded-lg" style="width: 170px; height: 250px; filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));">
                        </div>
                        
                        <div class="text-left -mt-4 ml-3">
                            <p class="text-base font-bold text-black">KODE PRODUKSI/</p>
                            <p class="text-base font-bold text-black">Nama Buku</p>
                        </div>
                    </div>

                    <!-- Course Card 4 -->
                    <div class="book-card bg-white rounded-lg p-3 hover:shadow-3xl transition-all duration-300 hover:scale-105 hover:-translate-y-2 cursor-pointer" style="width: 190px; height: 320px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.15), 0 0 40px rgba(0, 0, 0, 0.1);" onclick="openModal(this)">
                        <!-- Book Cover -->
                        <div class="relative mb-4 flex items-center justify-center">
                            <img src="public/Image-Cover Buku.svg" alt="Book Cover" class="object-cover rounded-lg" style="width: 170px; height: 250px; filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));">
                        </div>
                        <div class="text-left -mt-4 ml-3">
                            <p class="text-base font-bold text-black">KODE PRODUKSI/</p>
                            <p class="text-base font-bold text-black">Nama Buku</p>
                        </div>
                    </div>

                    <!-- Course Card 5 -->
                    <div class="book-card bg-white rounded-lg p-3 hover:shadow-3xl transition-all duration-300 hover:scale-105 hover:-translate-y-2 cursor-pointer" style="width: 190px; height: 320px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.15), 0 0 40px rgba(0, 0, 0, 0.1);" onclick="openModal(this)">
                        <!-- Book Cover -->
                        <div class="relative mb-4 flex items-center justify-center">
                            <img src="public/Image-Cover Buku.svg" alt="Book Cover" class="object-cover rounded-lg" style="width: 170px; height: 250px; filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));">
                        </div>
                        <div class="text-left -mt-4 ml-3">
                            <p class="text-base font-bold text-black">KODE PRODUKSI/</p>
                            <p class="text-base font-bold text-black">Nama Buku</p>
                        </div>
                    </div>

                    <!-- Course Card 6 -->
                    <div class="book-card bg-white rounded-lg p-3 hover:shadow-3xl transition-all duration-300 hover:scale-105 hover:-translate-y-2 cursor-pointer" style="width: 190px; height: 320px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.15), 0 0 40px rgba(0, 0, 0, 0.1);" onclick="openModal(this)">
                        <!-- Book Cover -->
                        <div class="relative mb-4 flex items-center justify-center">
                            <img src="public/Image-Cover Buku.svg" alt="Book Cover" class="object-cover rounded-lg" style="width: 170px; height: 250px; filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));">
                        </div>
                        <div class="text-left -mt-4 ml-3">
                            <p class="text-base font-bold text-black">KODE PRODUKSI/</p>
                            <p class="text-base font-bold text-black">Nama Buku</p>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>

    <!-- Modal Overlay -->
    <div id="modalOverlay" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 hidden flex items-center justify-center">
        <!-- Modal Container -->
        <div class="relative bg-white shadow-2xl" style="width: 520px; height: 520px;">
            <!-- Header -->
            <div class="flex items-center justify-center relative" style="width: 520px; height: 42px; background: #113939;">
                <h3 class="text-white font-bold text-lg">KODE PRODUKSI</h3>
                <!-- Close Button (match favorite) -->
                <button onclick="closeModal()" class="group absolute right-0 top-0 w-11 h-10 flex items-center justify-center transition-transform duration-200 ease-out hover:scale-110 active:scale-95" style="background: #113939;">
                    <img src="public/out.svg" alt="Tutup" class="w-6 h-6 transform transition-transform duration-200 ease-out group-hover:rotate-90" />
                </button>
            </div>

            <!-- Main Content -->
            <div class="relative flex items-center" style="width: 520px; height: 200px; background: #E3CD98;">
                <!-- Book Cover -->
                <div class="ml-8" style="width: 133px; height: 187px;">
                    <img src="public/Image-Cover Buku.svg" alt="Book Cover" class="w-full h-full object-cover rounded-lg" style="filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));">
                </div>

                <!-- Book Info -->
                <div class="ml-6 flex-1">
                    <div class="flex justify-between items-start mb-2">
                        <div class="ml-1">
                            <h4 class="text-lg font-bold text-gray-800 mb-1">KODE PRODUKSI</h4>
                            <p class="text-sm text-gray-600 mb-2">[Tim Penyusun]</p>
                        </div>
                        <!-- Favorite Button -->
                        <button id="modalFavoriteBtn" class="flex items-center justify-center w-8 h-8 mr-1" type="button">
                            <img id="modalFavoriteIcon" src="public/red love.svg" alt="Favorit" class="w-6 h-6 transition-all grayscale" />
                        </button>
                    </div>
                    
                    <div class="flex items-center text-sm text-gray-600 mb-2">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                        </svg>
                        Bahasa Indonesia
                    </div>
                    
                    <div class="flex items-center text-sm text-gray-600 mb-3">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                            <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path>
                        </svg>
                        235
                    </div>

                    <!-- Read Button -->
                    <a href="Tinjauan Pustaka.html" class="inline-flex items-center text-white font-semibold rounded px-6 py-1 w-auto" style="background: #113939;">
                        Baca
                    </a>
                </div>
            </div>

            <!-- Footer Content -->
            <div class="flex p-4" style="width: 520px; height: 278px; background: white;">
                <!-- Book Details -->
                <div class="w-1/3 pr-3">
                    <h5 class="text-sm font-bold text-gray-800 mb-2">Detail Buku</h5>
                    <div class="space-y-0.5 text-xs text-gray-600">
                        <p>Tanggal Terbit : 2024-05-12</p>
                        <p>Terakhir Diperbarui 2025-09-19</p>
                        <p>Penerbit : [Nama Penerbit]</p>
                        <p>Hak cipta : [Nama Penulis]</p>
                        <p>ISBN : 978-xxx-xxxx-xxxx</p>
                    </div>
                </div>

                <!-- Book Summary -->
                <div class="w-2/3 pl-3">
                    <h5 class="text-sm font-bold text-gray-800 mb-1">Ringkasan</h5>
                    <p class="text-xs text-gray-600 leading-relaxed text-justify" style="color: #113939;">
                        Ringkasan isi buku akan ditampilkan di sini. Bagian ini berisi gambaran singkat mengenai isi buku, tujuan penulisan, serta pokok-pokok utama yang dibahas. Teks ini hanya contoh (dummy text) dan akan diganti setelah ringkasan resmi tersedia.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
      // Toggle favorite heart color in modal
      (function () {
        const overlay = document.getElementById('modalOverlay');
        function bindFavorite() {
          const btn = document.getElementById('modalFavoriteBtn');
          const icon = document.getElementById('modalFavoriteIcon');
          if (!btn || !icon) return;
          btn.onclick = function () {
            // toggle grayscale to simulate off state for the red heart image
            if (!icon.classList.contains('grayscale')) {
              icon.classList.add('grayscale');
              try {
                const fav = JSON.parse(localStorage.getItem('favorites') || '[]');
                // remove first card as example (you can wire id later)
                const idx = fav.indexOf(document.body.dataset.currentBookId || 'book-1');
                if (idx > -1) { fav.splice(idx, 1); }
                localStorage.setItem('favorites', JSON.stringify(fav));
              } catch(e) {}
            } else {
              icon.classList.remove('grayscale');
              try {
                const fav = JSON.parse(localStorage.getItem('favorites') || '[]');
                const id = document.body.dataset.currentBookId || 'book-1';
                if (!fav.includes(id)) fav.push(id);
                localStorage.setItem('favorites', JSON.stringify(fav));
              } catch(e) {}
            }
          };
        }
        // Re-bind when modal opens (in case DOM changes)
        const observer = new MutationObserver(bindFavorite);
        if (overlay) observer.observe(overlay, { attributes: true, attributeFilter: ['class'] });
        // Initial bind
        bindFavorite();

        // Visual indicator on sidebar Favorit when has items
        function syncSidebar() {
          // Home aktif: hanya Home yang diberi gradient.
          const homeLink = document.querySelector('a:has(img[alt="Home"])');
          if (homeLink) {
            homeLink.style.background = 'linear-gradient(135deg, #FFFFFF 0%, #F5E7C5 25%, #F0DBA7 50%, #EBCF8A 100%)';
            homeLink.style.color = '#2D5A5A';
          }
          // Pastikan Favorit kembali normal (tanpa gradient) saat berada di halaman Home.
          const favLink = document.querySelector('a:has(img[alt="Favorit"])');
          if (favLink) {
            favLink.style.background = 'transparent';
            favLink.style.color = 'white';
          }
        }
        syncSidebar();

        // capture which book is opened (simple: index dari kartu)
        window.openModal = function (cardEl) {
          const cards = Array.from(document.querySelectorAll('.book-card'));
          const idx = cards.indexOf(cardEl);
          document.body.dataset.currentBookId = `book-${idx+1}`;
          document.getElementById('modalOverlay').classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        };
        window.closeModal = function () {
          document.getElementById('modalOverlay').classList.add('hidden');
          document.body.style.overflow = 'auto';
        };
      })();
    </script>
</body>
</html>
